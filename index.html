<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Enviar WhatsApp para v√°rios n√∫meros - Envio Controlado</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; max-width: 500px; margin: auto; }
  input, textarea, button { width: 100%; margin-bottom: 10px; padding: 10px; font-size: 1rem; }
  ul { padding-left: 20px; }
  li { margin-bottom: 5px; }
  .number-item { display: flex; justify-content: space-between; align-items: center; }
  .remove-btn { background: #d9534f; color: white; border: none; padding: 5px 10px; cursor: pointer; }
  #status { font-weight: bold; margin-top: 10px; }
</style>
</head>
<body>

<h2>Enviar WhatsApp para v√°rios n√∫meros (envio controlado)</h2>

<label for="phoneInput">N√∫mero de celular (com c√≥digo do pa√≠s, ex: 5511999999999):</label>
<input type="text" id="phoneInput" placeholder="Digite o n√∫mero" />

<button id="addNumberBtn">Adicionar n√∫mero</button>

<h3>N√∫meros adicionados:</h3>
<ul id="numbersList"></ul>

<label for="messageInput">Mensagem padr√£o:</label>
<textarea id="messageInput" rows="6"></textarea>

<button id="sendBtn">Enviar WhatsApp para todos</button>

<div id="status"></div>

<script>
  const phoneInput = document.getElementById('phoneInput');
  const addNumberBtn = document.getElementById('addNumberBtn');
  const numbersList = document.getElementById('numbersList');
  const messageInput = document.getElementById('messageInput');
  const sendBtn = document.getElementById('sendBtn');
  const statusDiv = document.getElementById('status');

  let numbers = [];

  // Mensagem padr√£o conforme solicitado
  const mensagemPadrao = `üì© Ol√°! Tudo bem?

Recebemos o seu cadastro com interesse em obter acesso ao Reposit√≥rio CPNU2 ‚Äî e temos uma √≥tima not√≠cia:
‚úÖ O conte√∫do do segmento que voc√™ escolheu j√° est√° dispon√≠vel e pronto para libera√ß√£o!

O reposit√≥rio foi criado com o objetivo de facilitar sua prepara√ß√£o, reunindo apenas os conte√∫dos que realmente est√£o no edital, organizados de forma pr√°tica e objetiva, para que voc√™ possa estudar com foco, seguran√ßa e economia de tempo.

Para liberar o seu acesso, √© necess√°rio estar de acordo com o pagamento √∫nico no valor de R$ 40,00, via PIX.
üí≥ Chave PIX (CPF): 264.378.478-24
üë§ Nome do recebedor: Michel Mariano

üîé Para sua tranquilidade:
Sou formado em Matem√°tica, com p√≥s-gradua√ß√£o em Gest√£o da Qualidade e Servi√ßos de TI, atuo na √°rea de tecnologia e qualidade de software, e desenvolvi esse reposit√≥rio com base em crit√©rios t√©cnicos, educacionais e √©ticos.

ü§ù Ap√≥s o pagamento, envie o comprovante por aqui para que possamos liberar o seu acesso imediatamente.

Muito obrigado pela confian√ßa e desejo a voc√™ bons estudos e muito sucesso na sua prepara√ß√£o! `;

  // Carrega a mensagem no campo ao iniciar
  messageInput.value = mensagemPadrao;

  function renderNumbers() {
    numbersList.innerHTML = '';
    numbers.forEach((num, index) => {
      const li = document.createElement('li');
      li.className = 'number-item';
      li.textContent = num;
      const btn = document.createElement('button');
      btn.textContent = 'Remover';
      btn.className = 'remove-btn';
      btn.onclick = () => {
        numbers.splice(index, 1);
        renderNumbers();
      };
      li.appendChild(btn);
      numbersList.appendChild(li);
    });
  }

  addNumberBtn.onclick = () => {
    const num = phoneInput.value.trim();
    if (!num.match(/^\d+$/)) {
      alert('Digite somente n√∫meros, sem espa√ßos ou s√≠mbolos.');
      return;
    }
    if (numbers.includes(num)) {
      alert('N√∫mero j√° adicionado.');
      return;
    }
    numbers.push(num);
    phoneInput.value = '';
    renderNumbers();
  };

  async function sendWhatsAppSequentially(nums, message) {
    for (let i = 0; i < nums.length; i++) {
      const num = nums[i];
      statusDiv.textContent = `Enviando para ${num} (${i + 1} de ${nums.length})...`;
      const url = `https://wa.me/${num}?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank');
      await new Promise(resolve => setTimeout(resolve, 5000));
    }
    statusDiv.textContent = 'Envio conclu√≠do!';
  }

  sendBtn.onclick = () => {
    if (numbers.length === 0) {
      alert('Adicione pelo menos um n√∫mero.');
      return;
    }
    const message = messageInput.value.trim();
    if (!message) {
      alert('Digite uma mensagem.');
      return;
    }
    sendWhatsAppSequentially(numbers, message);
  };
</script>

</body>
</html>

